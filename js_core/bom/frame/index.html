<html>
<head>
<script type="text/javascript">
var remotingDiv;
function createRemotingDiv(id, url) {
    var rDiv = document.createElement('div');
    rDiv.id = 'remotingDiv';
    var style = 'border:0;width:0;height:0;';
    rDiv.innerHTML = '<iframe name="' + id + '" id="' + id + '" style="' + style + '"></iframe>';
    document.body.appendChild(rDiv);
    rDiv.iframe = document.getElementById(id);
    rDiv.form = document.createElement('form');
    rDiv.form.setAttribute('id', id+'RemotingForm');
    rDiv.form.setAttribute('target', id);
    rDiv.form.target = id;
    rDiv.form.setAttribute('method', 'post');
    rDiv.form.innerHTML = '<input type="hidden" name="data" id="'+id+'Data">';
    rDiv.appendChild(rDiv.form);
    rDiv.data = document.getElementById(id+'Data');
    return rDiv;
}
function sendRequest(url,payload,callback) {
    if (!remotingDiv) {
        remotingDiv = createRemotingDiv('remotingFrame');
    }
    remotingDiv.form.action = url;
    remotingDiv.data.value = payload;
    remotingDiv.callback = callback;
    remotingDiv.form.submit();
}
function test() {
    sendRequest('test.php','This is some test data',
    function(result){ console.log(result);});
}
</script>
</head>
<body id="body">
<a href="javascript:test()">Test</a>
</body>
</html>