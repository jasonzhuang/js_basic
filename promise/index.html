
<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
    <script src="promise.js"></script>
    <script>
        var readFile1 = function(file){
            var deferred = new Deferred();
            setTimeout(deferred.callback(), 2000);
            return deferred.promise;
        }
        var readFile2 = function(file){
            var deferred = new Deferred();
            setTimeout(deferred.callback(), 1000);
            return deferred.promise;
        }

        readFile1("file1.txt").then(function(file1){
            return readFile2(file1);
        }).then(function(file2){
           console.log(file2);
           console.log("#######");
        });
    </script>
</body>
</html>